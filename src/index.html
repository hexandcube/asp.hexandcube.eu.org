<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyoxide ASP Tool</title>
    <link rel="shortcut icon" href="/asp-logo.png" type="image/png">
</head>
<body>
    
    <div class="container">
        <header>
            <h1>
                <span data-i18n="tool_name"></span>
                <div id="icons">
                    <a href="https://codeberg.org/keyoxide/kx-aspe-web">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Codeberg</title><path d="M11.955.49A12 12 0 0 0 0 12.49a12 12 0 0 0 1.832 6.373L11.838 5.928a.187.14 0 0 1 .324 0l10.006 12.935A12 12 0 0 0 24 12.49a12 12 0 0 0-12-12a12 12 0 0 0-.045 0zm.375 6.467l4.416 16.553a12 12 0 0 0 5.137-4.213z"></path></svg>
                    </a>
                    <a href="https://opencollective.com/keyoxide">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Open Collective</title><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12c2.54 0 4.894-.79 6.834-2.135l-3.107-3.109a7.715 7.715 0 1 1 0-13.512l3.107-3.109A11.943 11.943 0 0 0 12 0zm9.865 5.166l-3.109 3.107A7.67 7.67 0 0 1 19.715 12a7.682 7.682 0 0 1-.959 3.727l3.109 3.107A11.943 11.943 0 0 0 24 12c0-2.54-.79-4.894-2.135-6.834z"></path></svg>
                    </a>
                    <a href="https://matrix.to/#/#keyoxide:matrix.org">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Matrix</title><path d="M.632.55v22.9H2.28V24H0V0h2.28v.55zm7.043 7.26v1.157h.033c.309-.443.683-.784 1.117-1.024.433-.245.936-.365 1.5-.365.54 0 1.033.107 1.481.314.448.208.785.582 1.02 1.108.254-.374.6-.706 1.034-.992.434-.287.95-.43 1.546-.43.453 0 .872.056 1.26.167.388.11.716.286.993.53.276.245.489.559.646.951.152.392.23.863.23 1.417v5.728h-2.349V11.52c0-.286-.01-.559-.032-.812a1.755 1.755 0 0 0-.18-.66 1.106 1.106 0 0 0-.438-.448c-.194-.11-.457-.166-.785-.166-.332 0-.6.064-.803.189a1.38 1.38 0 0 0-.48.499 1.946 1.946 0 0 0-.231.696 5.56 5.56 0 0 0-.06.785v4.768h-2.35v-4.8c0-.254-.004-.503-.018-.752a2.074 2.074 0 0 0-.143-.688 1.052 1.052 0 0 0-.415-.503c-.194-.125-.476-.19-.854-.19-.111 0-.259.024-.439.074-.18.051-.36.143-.53.282-.171.138-.319.337-.439.595-.12.259-.18.6-.18 1.02v4.966H5.46V7.81zm15.693 15.64V.55H21.72V0H24v24h-2.28v-.55z"/></svg>
                    </a>
                    <a href="#footer">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 15.07l-2.54-2.51l.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35C8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5l3.11 3.11l.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7l1.62-4.33L19.12 17h-3.24Z"></path></svg>
                    </a>
                </div>
            </h1>
            <p class="subtitle">
                ASP → Ariadne Signature Profiles
                <br>
                <span data-i18n="header_warning_security_considerations"></span>
            </p>
        </header>

        <main>
            <section id="warning_wasm_support" class="hidden">
                <p>This browser does not support WebAssembly and this tool unfortunately won't work without it :/</p>
            </section>

            <section id="intro" class="panel panel--visible">
                <h2 data-i18n="edit_profile_title"></h2>
                <form id="form_load_profile">
                    <p>
                        <input type="text" name="server" id="input_server" data-i18n-placeholder="input_aspe_server_placeholder" data-template="default_domain">
                    </p>
                    <p>
                        <div class="input_button">
                            <input type="password" name="secretkey" id="input_secretkey" data-i18n-placeholder="input_secret_key_placeholder">
                            <button type="submit" data-i18n="edit_profile_btn_load_profile"></button>
                        </div>
                    </p>
                    <p><span data-i18n="general_txt_or"></span></p>
                    <p>
                        <button type="button" id="btn_create_profile" data-i18n="edit_profile_btn_create_profile"></button>
                    </p>
                </form>
            </section>

            <section id="edit_profile" class="panel">
                <h2 data-i18n="edit_profile_title"></h2>
                <form id="form_edit_profile">
                    <h3 data-i18n="edit_profile_profile_information_title"></h3>
                    <p>
                        <input type="text" name="profile_name" id="input_profile_name" data-i18n-placeholder="input_profile_name_placeholder">
                    </p>
                    <p>
                        <textarea name="profile_description" id="input_profile_description" data-i18n-placeholder="input_profile_description_placeholder"></textarea>
                    </p>
                    <p>
                        <input type="color" name="profile_color" id="input_profile_color">
                        <span data-i18n="input_profile_color_label"></span>
                    </p>

                    <h3 data-i18n="edit_profile_identity_claims_title"></h3>
                    <div id="container_identity_claim_inputs"></div>
                    <p>
                        <div class="input_button">
                            <select name="service_provider" id="input_service_provider">
                                <option value="mastodon">Mastodon</option>
                                <option value="pixelfed">Pixelfed</option>
                                <option value="dns">DNS</option>
                                <option value="forgejo">Forgejo</option>
                                <option value="manual" data-i18n="input_service_provider_choice_manual"></option>
                            </select>
                            <button type="button" id="btn_add_claim" data-i18n="edit_profile_btn_add_claim"></button>
                        </div>
                    </p>

                    <h3 data-i18n="edit_profile_identity_proofs_title"></h3>
                    <p data-i18n="edit_profile_proof_help"></p>
                    <p>
                        <span data-i18n="edit_profile_direct_proof"></span>:
                        <span data-template="direct_proof" class="important_data"></span>
                    </p>
                    <p>
                        <span data-i18n="edit_profile_hashed_proof"></span>:
                        <span data-template="hashed_proof" class="important_data"></span>
                    </p>
                    <p>
                        <button type="button" id="btn_generate_proofs" data-i18n="edit_profile_btn_generate_proofs"></button>
                    </p>

                    <h3 data-i18n="edit_profile_security_title"></h3>
                    <p>
                        <span data-i18n="edit_profile_secret_key"></span>:
                        <span data-template="secret_key" class="important_data"></span>
                        <span data-i18n="edit_profile_secret_key_warning"></span>
                    </p>
                    <p>
                        <span data-i18n="edit_profile_fingerprint"></span>:
                        <span data-template="fingerprint" class="important_data"></span>
                    </p>
                    <p>
                        <span data-i18n="edit_profile_uri"></span>:
                        <span data-template="aspe_uri" class="important_data"></span>
                        <span data-i18n="edit_profile_uri_subtitle"></span>.
                    </p>

                    <h3 data-i18n="edit_profile_upload_title"></h3>
                    <p>
                        <button type="submit" data-i18n="edit_profile_btn_upload"></button>
                        <button type="button" id="btn_export_profile" class="subtle" data-i18n="edit_profile_btn_export_profile"></button>
                        <button type="button" id="btn_delete_profile" class="subtle" data-i18n="edit_profile_btn_delete_profile"></button>
                        <output></output>
                    </p>
                </form>
            </section>

            <section id="what-is-this">
                <h2>What is this?</h2>
                <p>
                    This open source tool let's you easily create so-called Ariadne Profiles, online passport-like profiles that help you prove which online accounts are yours.
                </p>
                <p>
                    People can then use tools like <a href="https://keyoxide.org">keyoxide.org</a> or the <a href="https://mobile.keyoxide.org">Keyoxide mobile app</a> to verify those online passports.
                </p>
                <p>
                    To create your own profile:
                </p>
                <p>
                    <ol>
                        <li>Click the "Create a new profile" button</li>
                        <li>Click the "Reveal secret key" button and securely store the secret key! This secret key is like a password and you will need it every time you want to edit your profile!</li>
                        <li>Enter a name (can be real or fake) for your profile and optionally add a description to your profile.</li>
                        <li>Add an identity claim by selecting a service you use and following the instructions.</li>
                        <li>Click the "Save and upload profile" button.</li>
                    </ol>
                </p>
                <p>
                    Your profile should now be visible on the Keyoxide website and apps!
                </p>
                <p>
                    Note that some identity claims may require some time before they are being shown as verified.
                </p>
            </section>

            <section id="security-considerations">
                <h2>Security considerations</h2>
                <p>
                    This is a website and browsers are not the best place to enter personal sensitive information. This tool was designed to be as careful as possible: it does not store information in the browser and will only send the profile to the server you choose.
                </p>
                <p>
                    But it's still a website in a browser. There are multiple ways of dealing with this.
                </p>
                <h3>Just use and trust the tool (basic)</h3>
                <p>
                    Thank you for trusting us to handle your information. Please remember that the internet is full of untrustworthy people, be careful out there.
                </p>
                <h3>Use the tool with caution (advanced)</h3>
                <p>
                    You could open your browser's Dev Tools to inspect this web app and make sure it doesn't store or leak information. You can also inspect the tool's <a href="https://codeberg.org/keyoxide/kx-aspe-web">source code</a>.
                </p>
                <h3>Use locally or host on your own server (expert)</h3>
                <p>
                    You could clone the tool's <a href="https://codeberg.org/keyoxide/kx-aspe-web">source code</a> and build it, so that you can use it locally or host it on your own server.
                </p>
                <h3>Use the CLI (expert)</h3>
                <p>
                    Instead of this online tool, you could install the open source <a href="https://codeberg.org/keyoxide/kx-aspe-cli">CLI</a> which is not as easy to use but is more secure.
                </p>
            </section>

            <section id="about-asp">
                <h2>About ASPs</h2>
                <p>
                    Ariadne Signature Profile are the answer to one of Keyoxide's most requested feature: creating and managing profiles without having to use the terminal or OpenPGP.
                </p>
                <p>
                    Resources:
                </p>
                <p>
                    <ul>
                        <li><a href="https://ariadne.id/related/ariadne-signature-profile-0/">work-in-progress spec</a></li>
                        <li><a href="https://codeberg.org/keyoxide/kx-aspe-web">source code for this web tool</a> (in JS)</li>
                        <li><a href="https://codeberg.org/keyoxide/kx-aspe-cli">source code for the CLI</a> (in rust)</li>
                        <li><a href="https://codeberg.org/keyoxide/aspe-server-rs">source code for the ASPE server</a> (in rust)</li>
                    </ul>
                </p>
                <p>
                    ASPs are still a work-in-progress! Feel free to join the discussion on the <a href="https://matrix.to/#/#keyoxide:matrix.org">Matrix channel</a>, the <a href="https://community.keyoxide.org">forum</a> or reach out on the <a href="https://fosstodon.org/@keyoxide">Fediverse</a>.
                </p>
            </section>
        </main>

        <footer id="footer">
            <select name="i18n" id="input_i18n">
                <option value="en">English</option>
                <option value="bn">বাংলা</option>
                <option value="de">Deutsch</option>
                <option value="es">Español</option>
                <option value="fr">Français</option>
                <option value="nl">Nederlands</option>
                <option value="pt-BR">Português</option>
                <option value="zh-Hans">汉语</option>
            </select>
            <p>
                Crafted by the <a href="https://keyoxide.org">Keyoxide project</a>.
                <br>
                Funded by <a href="https://nlnet.nl">NLnet</a>.
                <br>
                Support us on <a href="https://opencollective.com/keyoxide">OpenCollective</a>
            </p>
            <p><a href="https://translate.codeberg.org/projects/keyoxide/keyoxide-asp-web-tool/">Want to help translating?</a></p>
            <p>Source code on <a href="https://codeberg.org/keyoxide/kx-aspe-web">codeberg.org</a> — version <span data-template="build_version"></span></p>
        </footer>
    </div>

    <dialog id="input_new_password">
        <form method="dialog">
            <button type="button" class="close_dialog">&#215;</button>
            <h4 data-i18n="password_dialog_set_password"></h4>
            <p>
                <span data-i18n="password"></span>
                <input type="password" name="password1" required>
            </p>
            <p>
                <span data-i18n="confirm_password"></span>
                <input type="password" name="password2" required>
            </p>
            <p>
                <button type="submit" data-i18n="input_password_btn_submit"></button>
                <output></output>
            </p>
        </form>
    </dialog>

    <dialog id="input_password">
        <form method="dialog">
            <button type="button" class="close_dialog">&#215;</button>
            <h4 data-i18n="password_dialog_profile_password"></h4>
            <p>
                <span data-i18n="password"></span>
                <input type="password" name="password">
            </p>
            <p>
                <button type="submit" data-i18n="input_password_btn_submit"></button>
            </p>
        </form>
    </dialog>

    <dialog id="export_profile">
        <form method="dialog">
            <button type="button" class="close_dialog">&#215;</button>
            <p></p>
        </form>
    </dialog>

    <dialog id="delete_profile">
        <form method="dialog">
            <button type="button" class="close_dialog">&#215;</button>
            <h3 data-i18n="delete_dialog_delete_profile"></h3>
            <p data-i18n="delete_dialog_confirmation"></p>
            <button type="submit" data-i18n="edit_profile_btn_delete_profile"></button>
        </form>
    </dialog>

    <dialog id="add_claim_mastodon">
        <form method="dialog">
            <button type="button" class="close_dialog">&#215;</button>
            <h3>
                <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Mastodon</title><path d="M23.268 5.313c-.35-2.578-2.617-4.61-5.304-5.004C17.51.242 15.792 0 11.813 0h-.03c-3.98 0-4.835.242-5.288.309C3.882.692 1.496 2.518.917 5.127.64 6.412.61 7.837.661 9.143c.074 1.874.088 3.745.26 5.611.118 1.24.325 2.47.62 3.68.55 2.237 2.777 4.098 4.96 4.857 2.336.792 4.849.923 7.256.38.265-.061.527-.132.786-.213.585-.184 1.27-.39 1.774-.753a.057.057 0 0 0 .023-.043v-1.809a.052.052 0 0 0-.02-.041.053.053 0 0 0-.046-.01 20.282 20.282 0 0 1-4.709.545c-2.73 0-3.463-1.284-3.674-1.818a5.593 5.593 0 0 1-.319-1.433.053.053 0 0 1 .066-.054c1.517.363 3.072.546 4.632.546.376 0 .75 0 1.125-.01 1.57-.044 3.224-.124 4.768-.422.038-.008.077-.015.11-.024 2.435-.464 4.753-1.92 4.989-5.604.008-.145.03-1.52.03-1.67.002-.512.167-3.63-.024-5.545zm-3.748 9.195h-2.561V8.29c0-1.309-.55-1.976-1.67-1.976-1.23 0-1.846.79-1.846 2.35v3.403h-2.546V8.663c0-1.56-.617-2.35-1.848-2.35-1.112 0-1.668.668-1.67 1.977v6.218H4.822V8.102c0-1.31.337-2.35 1.011-3.12.696-.77 1.608-1.164 2.74-1.164 1.311 0 2.302.5 2.962 1.498l.638 1.06.638-1.06c.66-.999 1.65-1.498 2.96-1.498 1.13 0 2.043.395 2.74 1.164.675.77 1.012 1.81 1.012 3.12z"/></svg>
                Mastodon
            </h3>
            <h4>Claim</h4>
            <p>
                <span>Mastodon identifier</span>
                <br>
                <input type="text" name="identifier" class="identifier" placeholder="@username@instance.domain">
            </p>

            <h4>Proof (direct or hashed)</h4>
            <p>
                Add a proof to your Mastodon account's "Bio" or as one of the metadata values.
            </p>
            <button type="submit">Add</button>
        </form>
    </dialog>

    <dialog id="add_claim_pixelfed">
        <form method="dialog">
            <button type="button" class="close_dialog">&#215;</button>
            <h3>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.001 2c5.523 0 10 4.477 10 10s-4.477 10-10 10s-10-4.477-10-10s4.477-10 10-10Zm0 2a8 8 0 1 0 0 16a8 8 0 0 0 0-16Zm1.031 4.099c1.713 0 3.101 1.345 3.101 3.005s-1.388 3.005-3.1 3.005h-1.819L8.62 16.58V9.832c0-.957.801-1.733 1.79-1.733h2.623Z"></path></svg>
                Pixelfed
            </h3>
            <h4>Claim</h4>
            <p>
                <span>Pixelfed identifier</span>
                <br>
                <input type="text" name="identifier" class="identifier" placeholder="@username@instance.domain">
            </p>

            <h4>Proof (direct or hashed)</h4>
            <p>
                Add a proof to your Pixelfed account's "Bio".
            </p>
            <button type="submit">Add</button>
        </form>
    </dialog>

    <dialog id="add_claim_dns">
        <form method="dialog">
            <button type="button" class="close_dialog">&#215;</button>
            <h3>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M128 26a102 102 0 1 0 102 102A102.12 102.12 0 0 0 128 26Zm81.57 64h-40.18a139.15 139.15 0 0 0-23.45-50.2A90.32 90.32 0 0 1 209.57 90Zm8.43 38a89.7 89.7 0 0 1-3.83 26h-42.31a159 159 0 0 0 0-52h42.31a89.7 89.7 0 0 1 3.83 26Zm-90 90a1.75 1.75 0 0 1-1.32-.59C113.8 203.54 104.34 185.73 99 166h58c-5.34 19.73-14.8 37.54-27.68 51.41a1.75 1.75 0 0 1-1.32.59Zm-31.69-64a147.48 147.48 0 0 1 0-52h63.38a147.48 147.48 0 0 1 0 52ZM38 128a89.7 89.7 0 0 1 3.83-26h42.31a159 159 0 0 0 0 52H41.83A89.7 89.7 0 0 1 38 128Zm90-90a1.75 1.75 0 0 1 1.32.59C142.2 52.46 151.66 70.27 157 90H99c5.34-19.73 14.8-37.54 27.68-51.41A1.75 1.75 0 0 1 128 38Zm-17.94 1.8A139.15 139.15 0 0 0 86.61 90H46.43a90.32 90.32 0 0 1 63.63-50.2ZM46.43 166h40.18a139.15 139.15 0 0 0 23.45 50.2A90.32 90.32 0 0 1 46.43 166Zm99.51 50.2a139.15 139.15 0 0 0 23.45-50.2h40.18a90.32 90.32 0 0 1-63.63 50.2Z"></path></svg>
                DNS
            </h3>
            <h4>Claim</h4>
            <p>
                <span>Domain</span>
                <br>
                <input type="text" name="domain" class="domain" placeholder="domain.tld">
            </p>

            <h4>Proof (direct or hashed)</h4>
            <p>
                Add a proof to a DNS TXT record associated with your domain.
            </p>
            <button type="submit">Add</button>
        </form>
    </dialog>

    <dialog id="add_claim_forgejo">
        <form method="dialog">
            <button type="button" class="close_dialog">&#215;</button>
            <h3>
                <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Forgejo</title><path d="M16.7773 0c1.6018 0 2.9004 1.2986 2.9004 2.9005s-1.2986 2.9004-2.9004 2.9004c-1.0854 0-2.0315-.596-2.5288-1.4787H12.91c-2.3322 0-4.2272 1.8718-4.2649 4.195l-.0007 2.1175a7.0759 7.0759 0 0 1 4.148-1.4205l.1176-.001 1.3385.0002c.4973-.8827 1.4434-1.4788 2.5288-1.4788 1.6018 0 2.9004 1.2986 2.9004 2.9005s-1.2986 2.9004-2.9004 2.9004c-1.0854 0-2.0315-.596-2.5288-1.4787H12.91c-2.3322 0-4.2272 1.8718-4.2649 4.195l-.0007 2.319c.8827.4973 1.4788 1.4434 1.4788 2.5287 0 1.602-1.2986 2.9005-2.9005 2.9005-1.6018 0-2.9004-1.2986-2.9004-2.9005 0-1.0853.596-2.0314 1.4788-2.5287l-.0002-9.9831c0-3.887 3.1195-7.0453 6.9915-7.108l.1176-.001h1.3385C14.7458.5962 15.692 0 16.7773 0ZM7.2227 19.9052c-.6596 0-1.1943.5347-1.1943 1.1943s.5347 1.1943 1.1943 1.1943 1.1944-.5347 1.1944-1.1943-.5348-1.1943-1.1944-1.1943Zm9.5546-10.4644c-.6596 0-1.1944.5347-1.1944 1.1943s.5348 1.1943 1.1944 1.1943c.6596 0 1.1943-.5347 1.1943-1.1943s-.5347-1.1943-1.1943-1.1943Zm0-7.7346c-.6596 0-1.1944.5347-1.1944 1.1943s.5348 1.1943 1.1944 1.1943c.6596 0 1.1943-.5347 1.1943-1.1943s-.5347-1.1943-1.1943-1.1943Z"/></svg>
                Forgejo
            </h3>
            <h4>Claim</h4>
            <p>
                <span>Domain</span>
                <br>
                <input type="text" name="domain" class="domain" placeholder="domain.tld">
            </p>
            <p>
                <span>Username</span>
                <br>
                <input type="text" name="username" class="username" placeholder="username">
            </p>
            <p>
                <span>Proof repo</span>
                <br>
                <input type="text" name="repo" class="repo" placeholder="forgejo_proof" value="forgejo_proof">
            </p>

            <h4>Proof (direct or hashed)</h4>
            <p>
                Create a public repo and add the proof in the "Description".
            </p>
            <button type="submit">Add</button>
        </form>
    </dialog>

</body>
</html>
